#PIS_LR_4
# ТЗ на страницу добавление внесение данных для оплаты и оплата товара front-end

## 1. Макеты страницы/функции/фичи
![Внесение данных](https://github.com/user-attachments/assets/d38441fe-5dd1-4c76-8456-86fed7ba9ad8)
![Оплата](https://github.com/user-attachments/assets/20b59c1e-d5d9-42b6-8299-810857a66228)



## 2. SEO

URL страницы: /checkout
Хлебные крошки: Главная > Корзина > Внесение данных для оплаты > Оплата заказа

## 3. JSON при инициализации


```json
{
  "ProductInfo": {
    "product_name": "Проводные наушники HyperX Cloud II KHX-HSCP-RD красный",
    "article": "12h12322",
    "rating": "4.6",
    "price": 13272
  },

  "clientInfo": {
    "firstName": "Орлов",
    "lastName": "Александр",
    "middleName": "Кириллович"
  },

  "contactInfo": {
    "email": "example@mail.ru",
    "phone": "+7 777 777 02 03"
  },

  "deliveryOfGoods": {
    "inStore": {
      "included": true
    },
    "deliveryToAddress": {
      "included": false,
      "address": "г.Клин Ул.полевая д.45",
      "price": 2000
    }
  },

  "paymentMethod": {
    "SBP": {
      "included": false
    },
    "SBERPay": {
      "included": false
    },
    "Card": {
      "included": false
    },
    "CashOnDelivery": {
      "included": true
    }
  }
}

```

## 4. Маппинг данных

### 4.1 Форма внесения данных

Скриншот элемента: 
![Внесение данных](https://github.com/user-attachments/assets/d38441fe-5dd1-4c76-8456-86fed7ba9ad8)

Условие отображения: Всегда

Описание элемента:

| Элемент | Тип элемента | Поле из JSON | Примечание |
|---------|--------------|--------------|------------|
| Заголовок "Оплата заказа" | Текст | - | Статический текст |
| Заголовок "1 данные покупателя" | Текст | - | Статический текст |
| Поле "Фамилия" | Input, обязательное | clientInfo.lastName | - |
| Поле "Имя" | Input, обязательное | clientInfo.firstName | - |
| Поле "Отчество" | Input | clientInfo.middleName | Необязательное поле |
| Заголовок "2 Контактные данные" | Текст | - | Статический текст |
| Поле "Адрес электронной почты" | Input, обязательное | contactInfo.email | Валидация формата email |
| Поле "Контактный телефон" | Input, обязательное | contactInfo.phone | Маска ввода телефона |
| Заголовок "3 Способ получения" | Текст | - | Статический текст |
| Переключатель Способ получения | Toggle | delivery_of_goodsInfo.method | Выбор между в магазине и доставка по адрессу |
| Радио-кнопка "В магазине" | Radio button | - | Опция способа оплаты |
| Радио-кнопка "доставка по адресу" | Radio button | - | Опция способа оплаты|
| Стоимость доставки | Текст | delivery_of_goodsInfo.price | "2000 ₽" |
| Поле "Адрес" | Input, обязательное | contactInfo.addres | Валидация формата addres |
|Заголовок "4 Способ оплаты"	|Текст	|-|	Статический текстм|
|Переключатель Способ оплаты	|Toggle|	paymentMethod.method|	|Выбор оплаты между СБП СберПэй картой и наличкой в магазине|
|Радио-кнопка "Система быстрых платежей"	|Radio button|	paymentMethod.SBP.included	|Опция способа оплаты, по умолчанию выбрана если выбран способ доставка по адресу|
|Радио-кнопка "Сберпэй"	|Radio button	|paymentMethod.SBERPay.included	|Опция способа оплаты|
|Радио-кнопка "оплата Картой"	|Radio button	|paymentMethod.Card.included	|Опция способа оплаты|
|Радио-кнопка "оплата наличныйми"	|Radio button	|paymentMethod.CashOnDelivery.included	|Опция способа оплаты, по умолчанию выбрана если выбран способ получения в магазине|

P.S если пользователь выбрал сберпэй или сбп то его направляет на их сайт.

### 4.2 Форма оплаты 


![Оплата](https://github.com/user-attachments/assets/20b59c1e-d5d9-42b6-8299-810857a66228)

Условие отображения: После заполнения формы оформление заказа выбрав способ оплаты карта

Описание элементов:

| Элемент | Тип элемента | Поле из JSON | Примечание |
|---------|--------------|--------------|------------|
| Заголовок "Осталось только оплатить" | Текст | - | Статический текст |
| Поле "Номер карты" | Input | - | Появляется при выборе оплаты картой |
| Поле "Имя на карте" | Input | - | Появляется при выборе оплаты картой |
| Поле "Срок до" | Input | - | Появляется при выборе оплаты картой |
| Поле "CVC" | Input | - | Появляется при выборе оплаты картой |
| Сумма к оплате | Текст | price | Отображение итоговой стоимости |
| Кнопка "Купить" | Button | - | При нажатии происходит оплата |

## 5. Действия на странице/в функции

| Действие | Формат вызова функции | Эндпоинт | Примечание |
|----------|------------------------|----------|------------|
| Заполнение формы внесение данных для оплаты | Ввод данных в форму | - | Валидация полей при вводе |
| выбор способа получения товара | Клик по кнопке "в магазине" или "доставка по адресу" | POST /api/delivery-method | Обновление стоимости |
| Переход к оплате | Клик по кнопке "Далее" | POST /validate-booking | Отправка данных формы для валидации |


